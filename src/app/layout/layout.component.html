<div class="flex h-100% bg-gray-light">
  <!-- Sidebar -->
  <div
    [@slideInOut]="menuState"
    class="fixed h-screen w-64 overflow-hidden shadow-lg bg-white transition-transform duration-300"
  >
    <!-- Header de la sidebar avec le bouton toggle -->
    <div
      class="h-16 flex items-center justify-between px-4 bg-pink text-white text-lg font-semibold"
    >
      <div class="flex items-center">
        <button
          (click)="toggleSidebar()"
          class="flex items-center p-2 rounded-full bg-white text-pink hover:bg-blue hover:text-white transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-pink"
        >
          <span class="material-icons">menu</span>
        </button>
        <span class="ml-2">Menu</span>
      </div>
    </div>

    <!-- Navigation -->
    <nav class="flex-1">
      <ul class="space-y-1 p-3">
        <!-- Dashboard -->
        <li>
          <a
            href="/dashboard"
            (click)="setTitle('Dashboard')"
            class="flex items-center px-4 py-3 rounded-3xl transition-all duration-200 hover:bg-gray-light hover:text-blue group"
          >
            <span class="material-icons mr-3 text-gray group-hover:text-blue"
              >dashboard</span
            >
            <span class="font-medium text-gray-dark group-hover:text-blue"
              >Dashboard</span
            >
          </a>
        </li>

        <!-- Salaires -->
        <li>
          <a
            href="/salary"
            (click)="setTitle('Salaires')"
            class="flex items-center px-4 py-3 rounded-3xl transition-all duration-200 hover:bg-gray-light hover:text-blue group"
          >
            <span class="material-icons mr-3 text-gray group-hover:text-blue"
              >paid</span
            >
            <span class="font-medium text-gray-dark group-hover:text-blue"
              >Salaires</span
            >
          </a>
        </li>
      </ul>
    </nav>
  </div>

  <!-- Contenu principal -->
  <div class="flex-1 flex flex-col">
    <!-- Header avec le bouton toggle -->
    <div class="h-16 bg-white shadow-sm flex items-center justify-between px-4">
      <!-- Bouton Menu - affiché tout le temps -->
      <button
        (click)="toggleSidebar()"
        class="flex items-center p-2 rounded-full bg-pink text-white hover:bg-blue/90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue focus:ring-offset-2"
      >
        <span class="material-icons">menu</span>
      </button>

      <!-- Titre central -->
      <h1
        class="text-2xl font-bold text-blue"
        [class.ml-64]="menuState === 'in'"
        [class.ml-0]="menuState === 'out'"
      >
        {{ currentTitle }}
      </h1>

      <!-- Zone de droite (peut être vide ou utilisée plus tard) -->
      <div></div>
    </div>

    <!-- Contenu principal -->
    <main
      class="flex-1 p-6"
      [class.ml-64]="menuState === 'in'"
      [class.ml-0]="menuState === 'out'"
    >
      <router-outlet></router-outlet>
    </main>
  </div>
</div>
